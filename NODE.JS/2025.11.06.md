# 2025-11-06: 🚀 실습 미션: "나만의 비밀 사진첩" 2단계 (오늘의 핵심 주제)

## 📌 오늘 배운 것 (Key Learnings)

* `[개념 1]` 🚀 실습 미션: "나만의 비밀 사진첩" 2단계
* `[개념 2]` 셀프코너와 창고 만들기
* `[개념 3]` `express.static` - "이 폴더 안에 있는 파일들은 내가 알아서 줄게" 라고 말하는 특별한 미들웨어를 만들어내는 함수
  위치 이유 : `morgan`은 통과해야 누가 왔다는 기록이 남기에 뒤에, 뒤에 있는 session까지 가면 로그인 정보를 확인하는 무거운 작업을 하기에
              서버 효율을 위해서 앞에서 끝내기 위해 morgan 과 session 사이가 맞음 !
* `[개념 4]`
   `try {
    fs.readdirSync('uploads'); // 파일 관리자에게 'uploads'폴더 안에 뭐가 있는지 읽어봐 시도시킴 
} catch (error) { // 에러로 넘어올 경우 'uploads'폴더가 없어서 
    console.error
    fs.mkdirSync('uploads'); // 지금 당장 'uploads' 폴더를 만들어
}` 
* `[개념 5]` `const upload = multer{(..})` = upload라는 이름의 로봇을 만들꺼고 로봇의 규칙을 설정하는 코드

## 🤔 어려웠던 점 / 에러 (Problems & Errors)
1. `done(null, path.basename(file.originalname, ext) + Date.now() + ext);` = ext가 2번이나 쓰인 이유.
앞에 ext를 안쓸경우 'my-picture.jpg1678886400000' 이렇게 이상한 파일이 되기에 결론은 '이름과 확장자를 분리해서 사용하는 코드'
ext를 써써 확장자를 제거한 뒤, 다시 뒤에 붙임

## ❓ 앞으로 할 것 / 궁금한 점 (To-Do / Questions)

* `[To-Do]` 🚀 실습 미션: "나만의 비밀 사진첩" 3단계 라우터 만들기
* `[Question]` `try..catch`와 `multer` 설정의 위치가 왜 `app.set`과 `app.use` 사이인지
* `[Answer]` 설정코드이기에 설정을 한 후에 실행 `npm start`를 하면 된다. 그 뒤에 사용할 경우 실행 X
